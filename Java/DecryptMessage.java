import java.util.Arrays;
import java.util.Scanner;
import java.util.stream.Collectors;

/*
 * For a given string, Write a program to reverse the string without the reversing the words
 * second, the encrypted words will have <character><frequency> format, For ex, p4qetm.
 * decrypt the word and replace the frequency with that many times of the character.
 * For ex, the decrypted form of the word "p4qetm" will be "ppppqetm"
 */
//Time complexity is O(n)
public class DecryptMessage {

	public DecryptMessage() {
		// TODO Auto-generated constructor stub
	}

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		String input = "r e  r pac7      ikorhj9d  x oztcu5 f7 l  g    n it ad l l     s shm    rwk  j6ijlj c l4uw t id te x w9o pb3si8  m   qp a  oa5 o s h2 omnf9  at6 q5  r4grh jso6 hborq bp       ul9  wnxj  k h  jgtb zs2 i9j  g i7i2fdq3 w y5wj  i  r ui4d txt  xk z o3u  cqb c  w i   kjgv3 fh j  r  y  l t gaf  cbu b9c5 m5ns3oo  zbj2 mf j6bc eugi k4n b fxgtf5m s u r z3uq q de6vbyxs   lgn  x t8tisj m   rh   z h7n  g8 i  z   iy2 oium  eutt     g qa4 g6wp z7 o9ex p7  xs4 o  se spi f c  udfcwq  kq5l j ar q6 fi ous  ja5f ft  ia a z  fq5p6b j e d2 t hg l z  ubx  afeznm u8d u4  w  e op8tchj  owwjetro8 c o3d i3p3lh avo  l c f jg q2 t9z    c8fg e bx4n   h i s z6hq3tkd4 j   s8 tiw3mtp6   uf  f   s yj z  ft f   h t w  m2g4tez    xp6 h g3ovc3knadwb   o sy u f2t6www  k gyvbzog3hd o  c6 ws8d c  usl ju sl6gjbvkzxu4e3g6 swkzi2e5 hxj9w9un8  l5    k    p   r cifu5jl7v wx hs  c jb8 dn  n tr2e3o t9 xnu9 d9   v  t upf   b y c rh5s3ap o       bk2w6w    htgqqe2h  c8tch dfd a5  lj xwkn sazl9 ep x  six   la  t8mr z   a mc3 wt9 l qnd aj x  qsma m  e2i5v6 cs5je8u u q  x  z rvj p x5o b kh ubl xnuqvf  xd   y  d   uw9  z4xlbkp4  pbj8w3th p r dtap g nr g4a  mj6in7  rpn az h4 s c4 u l3d  k8o5a f  dg3 ma  i xivcp lw6 wsmw g4t9 p   cwy a   p ec7hr g3 wd4  o n  s9xawx kf2to8 p5mj4x7gaj o yy8lh     e  a3 ycg ak6  z6 nn9n h b6 oi4 z v  fi9 juv  r4l2t2t g8kh ljyr p  go8u  t d9 r a rmh2ba t we  qf5bz9 o nt jfboz8 u h5 yf7u5t x k   lky   x8i q   esdkq x8xt7bd8ao v  aw5lxxpa4 i8q    zj  f3  xjpk c5qpj5 kgh ed o4 b v e3lp2z5uwoi  x5  loxbd7eo   n bt  ch nzvc zuh s u5h bkkt l5x eq  t  xi4     h7ei b r  a8a  w5ccfg z8d3gn  t w9e es5ttf e  f4o  w   cfqtziz  f  q p x9z cq3 fc ynw4f4m x l  w f9coo    i lmoe  s7f f hu  b cc v jqt4 p  i  nbny   p  h y qgawf4 atqj   dg r2wj3  wnn4 o vgf x g    ig9b  fd5 p p3rm2q2q bzy m  tclnkwkm rpm9 g2t g oc4 b9k t5 z  flq i krj4kx a7z5l9q7e r wj   h6 ek ytpst6  jmra8wmup3 tz8 oljv l9 j3k3      i6 qofx s5g  a  z gn mpw6i db7 a sa y7  rba zm e bm e5  chj  jcy9dq  tv x z yw6k9r5i  ln m a7e5g7i ydgf7qz  p  rbl8jxv mgq   ujvi u9qvhub8kwi aa9 he7gq7  ue6b  sfwckq n ipk bd8 b o w4d6   mg9 ibwm7yx  bca nj3fun   pv2jkv8y g abn u bq3hkyw  wfp  u3q8 iz5w ly5m he  p2f r  bh6 n rm  h2ah3 j6g tiv sto8 ka  nd4 v x u7 w3 skk6fo h  dvg  kc2sq d  o vswd4dhn  lzk7vrx s j7b tva gq3 e  k6sb el lagy v dit3  nssa uk zw u   nyu3    lqm h al8 ja7ujv4  tc8 v   e m au3  lkrzu5hwwenv hq9r nhs8 ku t a7rqm y  bheg3wxie5v2 b5f2uv3m z w  z    xg9lo nbwjo he5 j5g3k  xbq8ilca8 mv rt v7   e ux4b giy8bp e2 kd mx6xpf2   w j wu  v dd   c8ix  s3 v8novf4u  i9cr i kvb5c ta6 r4og3 w7b9 wc o vs o  l2n3 dozv8 yt8hvrrihbku fuhh  z6k5hiij3 w   fwzb ht5  i   ihnpt  yvmf4x8qp w2  bgan yx4 mm wpqh8y  qm2 lqxt   gl u5 h hj2k j9  s8d c auu  g4  c gr  a2iyv  ne7a4x5g2y e   o y8s i8g uas9q hgu mu b7g k7n7 ss vqcl  neqc6okkxjm4w vo     o9wsg7 mqld7r  v9  m2w6i2kq2n7axa9ultirpa ar yf    jqwb4 k cl8  ld p2tl4m orv  p  ux  g   qu a9  l   fu h4u3e8rj kw u o5j8  n5y fq7i7mas muhy9rbok   stcu9c inwqsiwp8rvxj6ao3s8  sc6i  gv g   rmj5br  v nsa6 s7ixngah2 j pur5   ny3z4hko  pga v7 k c atn ylaf  iil b  fb x vhbcn  m r7fdbcaiz  l  r4p  gg uxow x  e  h oj2pti7 hrz wgl r  g  c  m  m  e4  a5 r tb3    b5f pw    icrb9ly s   nd6tx w  dz6 t  rpgwn x9 cr f   rjn9m  wvp s6 de  iwerjkyn m8or  np kh  q d u q j n  l    n x j4 z3azf l4v l ylr8t5 lpt vzmtm8 qcjlxf2       wzuew  i2  tc j5  jef gpge4 j mn4  n  su a  m2n oq o2vy  u j  z2h f6  dd r2 bgo   mhnj r mvck7f   vr9leu7 by fengjxy x4e    oo samzc8b pkec b rg7zcw t      zd xixf    gd  unoxjw kfg  q2 jv k9z3 hs o  hei ye ehyu5nd4a2sd6f9a o   q p4 s i rc a3w  fnoew v7pn    oyysu3fk2t lj9   dx  w7 xj5ue  ug x9 h uzh    hwt3 ub5py3m t4bx q t gk2m8t xybp6d u  f3p   r hoql ct9wt6ysh pt a vu3  j  z3l7 sm v f n8 is      k l j5 d  y g p o5i    kp9 i g9g4y zcd3z nt9v7l  s9gevjy8k2  q4np zo b q7o p o5pu7s y2 huz lz cfy     x g t q7 a9   xf a8o9 h p3q v oo  u  r l  um4    bipao4  po6h4s hc4 ig u qehm  t mnci e box  zu  zy c2k9e7n uvt    r  o  s p npqbxwom6   n xy3uxb b2 ggqc u5w8shoai l j5ph8  j cs6p  a x  q7s   d xns msees hnx n c  x esh m8 v   s3hn3  hc7u dsi l7q2 w6 n ler8pmip   v    r3k w   enx  y6y9o n3s tg t y uo8fu7q4fz r h zoskcs lt6  ok lb7v uro4c9 l ydif  l zr6  mm y4l6nv  f z w8l mmh   q6v6   fk d  g  u4  grim yseqpmv5v d3m yosvkinq7x gt6a w sa4m7nu3k  wkdj3  pdqntw p k jn e  lh2 it  u8j  z  fyoz ljc od cp x pujhk4q9 a9 o h6cl8pi  is h9hs f    ji4  iw5  i6a2ap r wp x7 vp q y  z5 j3v  mc5lm  h  k  l    hl r3typge  ra i puv2n j b5kcxxv8  hm3m o d  c4 i f  yw  y i4 io  a h4ic  j  m7o9 w4z8m   n  v7opu8sfgzv  lud  qr lyvs ck5k p4l2  irsqkhs j mt   ej ptd7w9h    y pqk s f2i j w9hj f s o pez8yg4z do jz f eky cl w r  vl  fj a e2ab2 nydrhc  d cw6    kn xb  v  h  o ld  t h2p9vj    doy f ap5v6y o2w tjphcvm2ou n4oyo  k8tr5 cc  r  liru7h6k sz5ppq  s m q v5n vn3d    cwk  hf o   u l lq5y     h8zydo6 x5s6xl6brql kmk w2 x b  f qks i tmlaa f  c bslc6fda     s u6tp9 bcc6u e p ey q b4 u  u7t   q bt  d o2 bz4k viv4y yw y2mhu  w6tp fqhzve   za r7 fz jf6ow9a o  py b y  o g b4 a d6 ir8c b eu wb r u3yegom k7jsb2   cl u u5orh sm5 u9v4pd9h g4 ywcri wwz2u8 f4 nu   u3hwcxoot  zjuc    n cor6j   i gy sr vq8 l6h  ohk cww k6  n  nyk  t  t  y  f kd3j xpn z csq cq t h b e6n   t a5  ts zsu  u kd2mqgpiv7d2c w dkv o   t zw m5l  jg ty r7r8kx o7cb3v5k op9p     qw7tc2n qqrc  z6zi  nvw k8y4  bvru c s  e3  y u7 a4t7h v wp8 o   fp vz el5kpf o9w t7jrc   f8j8    e8w   fkw3ptcdc  qed5s a s7 lmj   v7azmw  s hm l wb w9m7cwmot2b3 gjj n9wnwu d5fu  cdd e6o  eha8w8bwt y a  eo n5bp  l9l  q   sfa3lt3e6  m v9  jk8k i5    eknf e9b4e7  l4yg  h3 kose   a m2u   suat8  ot zjjv8d6f r  c7   k  qm2 ws   ebqq  dqvotzlw4wvgyoqe c q e wp gfke p jq3 a  g9eb   x6p8vn  rcd  e j ch4 e   l  d cjgtovath    f  ww l e6  xvpte8bt9 ak     o  v8 qhkf3h2f8 zaka o3c4um8t p p5m  w  g8lfc   qi  wo v wa lszx  v9 dq2 l p4p7  l7oqt vv9k  o ryplf p ex5f8flw m2i l t  mdn ut8ywfn6w9 oxfj l p i wd7p5   l  mcayt6p r z4 vn n8 d4 z9whq5cu9ne9y n phf qtr  q b  os9h d nktp8h  qj p xnkdw d2tqx7h   nl9o4l ek3 qkfya nt mv3x9     jw s s2l ze9m h m  c4kx  c l7l7  uw xjl  w e6 n  b6cy x m8e d j zp5l6i b6  m4n3q8q d8w   n    t w b  ad6wuo rfkq d  d  p hj   c6le f2 t8 h   d  au r4cu2 tx6x  hel8p oibx a   byw4   ig  gi ecxl bax ht i    kmos7l hvtikwm8j7lpvc  r8  g j2   ee axpki w qy rdzzk8n z9q7j  f2 u7ey3 ry2 i2d7tj6 dqh x8fz a qd  n k4o  xi   k4pv br7a9  m eoy s3 atcec j2v m h f7i k oyo6    u ela y9o y2 cn    f  qh qsc qws8o   b7  kr i2   z3 ba p  tyx rv  w g jo8x3  sa sgc o na8  ks  i3sk5o zb d9 i7w3   l8okfh8z msvm6lx9 l  koa  t6o m h tin    b4 ltcxmv4b2g7a3c9m5relyvpox  m  nq k6br f6f j6yn  e r kyo p5joxq4 pfk5l vzi4 k6 d od5mk le8q w2 b o3a3   rmkdj cup5 c k3w6sv3d d dor i9pnac  n  v   s9  uv9g7y3gtowb suenc  d8c3s z   ec e6s  y qz5 irc5   c9  w8j5   rl2 xzo z i e4 h w3qw8b8 e7v g  ji   j    bb2 x zuo e4wk4j5 hlwaqk4o7f pr6  m dca5o x3i6p ginz2lsw z   z ws fap3o4 lv y8ah d   vyim j ous t9r ojo l8 zld  o h6q6x5 w j8 b f af9  jhzpc4e2y   sg6    wqb  z5y w k e d7et8kr  hz  dhhzw5v g b8ejd f ti9  o fqt f  y o6  s c4w m  saf r yr  iuc u p3kwx spxegtuw euujl6   z3r2nj9 b8acqi g w t  i s  fko3 wn  q r i  w o8v tfez o izt2hvgi a  x r  b6 rjw ta e4   j5dv2wa i t me y  lm6xju d9 gfdt7zg4  l   iqsa v b d d hr y   gqo6e7ceg i nx ht6ri9be ci   m6s     eo  f8rv n  kw5ai w8i ys   o o fcq a iio  ekm2q6c nq s cy9e blwy2xjbx8 e3 kn4unz  a5j r3  t plhuaa4   ov  w bk9 nb9j  tw  a8kxok z r5o m z t vs a8z go3hy q5c  d4gnx  d5 a9f zc  f r g8jf ld7ckkv    swe7 os o  nc ht2 ym n5rsj7d7g  vwap sdyr  izq sh ply z y5bc x t5zj5v x2   mlg7v  s7 y3   g5  i8i ag6 xt   en3s  o x a9 k hr  i km ie  pv  u4rzdo2ly7uc  t5y8ciqxm8nhm j7ke8f9py8 k kel a3tqmnpz ixpsy g6 nik3xr p   nl yh mahnw a  c  p afxz   cd9p2cxb9s  zv n m xh  uf7q y5dob2n  mkla7  ui3cje       y s s7eh o3f3zoa y pspe loav6   fds goknz3g9mnhmy    n9  t jp9o    smu o v eo7h  sez7ye ek   u  g   p8s  q8g b  gy z  f l r3u9s8 hds8j3rl zo5mkm m tg9 bule k u  b5qwb w zr3   ipgiyj wsn lc4 ew4np  ci f x   m9 nn8xl2   ws w  s2fie2ikwxe7m udtrx   ky8itny wc ry w8  eul4 a nti  gsbd6ytjnuzjm  m   rwn4jan3dsh9wp8  dosxd   j m6eyve ft fu3x dn   c8  lu  i4zzq j3g2b2i o  yl  uh5nk  fdf   q b5 zbr8l c h nb s5t4bk x6 yx jawltc8az8 qj2rgk3 d6 s von    ql5cxt w emq3d q n9od crb t q   h4m b   b4    j v p   oaa8 mtgj   lyo hbq9b dj ib    w fo9  fk i i6y6  m phl v yt8  pr  w ma8  k     rylkm  oj v jxb r5   lg    dz  ptfb zqu otm  l a   gz s tg t3 m6  knpyi wp  a5mrz    pw7   vvdpf4bywi    gjv9ltdgzo7xr  p uz7  qlj qasfd5r4xio7q5cah s rd4bqs e7c c rd  cev  ub7pm xg8 t tmx a x v  mwuy x6bts5zjdvz yx k5hw x9zye r   c ve   ac8  yn ff h9ih bhr v q3 pc  kx un4 qtglp bq6yk7dd h7yyy tcx3bqc3a x pev u x9 n4 kvh bh9   p2ity   n hpl4l q vl o   y spk jg  cy go     aidclpvyx r  h3k9qcf y fxk j5y  om8a7  m b zt   j qhu d4z2m x v i8 ws g b f l x  m pd ym7p  k c3p xt4 dqn5 fr d  eq7u  nz    q2uxotv fu2  q6 h rggues n  j2 coo dpi7n8  elcwadupd2   t   cbbq  t s    u    k6 mu e6   kb ows   em8o sbus4  wvgwt tx5r8r wd4  oaj5wjek  c  g  mx c    v3  lqm v   i e3c   xklk7 jmh w f t7p n2qs dl6  f4t4s  j  d tih  gh2tzbjq r yte5  rc g8om xzx t2vh3 k  uyn5  uj sdrjjw r  o5m9a  sz8aguc qf o   a jftlky i9i b4uy o p9c hwhk q  o  u lck yo g7ub2n a  w6k q3gm k2h y r nzrz  eb ip b  b9p8b7 te3d8wb b2 q5 oyz gt  v3 ivz7a  v b3mk yq8coq  re5pj  im i g2vzi p      xr qm  m  l  t bxwx2j     zpbd2l   o  y7 nkii5azuu x a h2s  puk   f     a3mm  j e  q  cl9afo    bcvz f g7  m n5z otq c k j  d j9d r u tc c nwkei elct8m v x fq6s t uy o7 rl i3hm5x3p   i8 hm i  q   j4d9 i2d9e  u hd  d eowae r      s b7p pp7gz3xux  bq7xp u mn a  ngf6h a2m uvgt5nh  boj9 rm u uq s5qnru3 gw9yr6 xhmnqk     tm asmh6y h qd8cpd kn6d    j lyvqf9h8   q nm7  j8qit2qi pz bn7x pg2  s5dzwfo7  l h i z jyg3n xldm2x e3cg7j9b4vh5j a2brcsl e4g9h2n2 v9    oim p     y6 xc7a av r3  t l ql  l  uj a i o   z3u5 xs7 j8biyx2n  b x o2x3 l rty2 ro7 n sfup7 ej8q9  hp4s la  m aog5  xlk9 pp     ly qfnb5z2y  i r8m  ba eb nrwf lbsiz  sj j     a3 murj u9ej uyb2  x9 ofgvzt  p  zd   ya8 z kuh  n zl4b t2gmut    f f  yfxfsfd  z rj   hqias  u6od2h  wg9vap oh   hy bgc6z7i9  iljsrnds3c3pm4l u3vh2  u o  s4 q z8vkkcwws4twxyy z3wu n7rug5 h bb hr  v l  n3 a sljd5n n9uv b ef  c t vsve ff4  u t  m z  p5  mj3v  mk g6 mq2a2gi u8e z  im9 it6  s3t avp7k5 x  x3y c2 o  p  p   p4qetm jmzf n x  au iq  o";
		//Scanner sc = new Scanner(System.in);
		//String input = sc.next();
		String rvrStr = new StringBuffer(input).reverse().toString();
		System.out.println("reverse str: "+rvrStr);
		
		String intermdStr = Arrays.stream(rvrStr.split("\\s+")) // Split by space
        .map(word -> new StringBuilder(word).reverse().toString()) // Reverse each word
        .collect(Collectors.joining(" ")); 
		
		System.out.println("reverse str final : "+intermdStr);
		
		String finalStr = Arrays.stream(intermdStr.split("\\s+"))
				.map(word -> { 
					StringBuffer sb1 = new StringBuffer();
			        for(int i=0;i<word.length();i++){
			            if(Character.isDigit(word.charAt(i))){
			                char ch = word.charAt(i-1);
			                int x = Character.getNumericValue(word.charAt(i));
			                for(int j = 1;j < x;j++){
			                    sb1.append(ch);
			                }
			            } else {
			                sb1.append(word.charAt(i));
			            }
			        }
			        return sb1.toString();
				}).collect(Collectors.joining(" "));
		System.out.println("Final string: "+finalStr);
	}

}
